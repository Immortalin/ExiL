\section{Uživatelská příručka}

\begin{listing}[H] % position specifier as for figures
\caption{ExiL code example}
\label{example}
\begin{clcode}
(deftemplate goal action object from to)
(deftemplate in object location)

(deffacts world
  (in :object robot :location A)
  (in :object box :location B)
  (goal :action push :object box :from B :to A))

(defrule move
  (goal :action push :object ?obj :from ?from)
  (in :object ?obj :location ?from)
  (- in :object robot :location ?from)
  ?robot <- (in :object robot :location ?)
  =>
  (modify ?robot :location ?from))

(defrule push
  (goal :action push :object ?obj :from ?from :to ?to)
  ?object <- (in :object ?obj :location ?from)
  ?robot <- (in :object robot :location ?from)
  =>
  (modify ?robot :location ?to)
  (modify ?object :location ?to))

(defrule stop
  ?goal <- (goal :action push :object ?obj :to ?to)
  (in :object ?obj :location ?to)
  =>
  (retract ?goal)
  (halt))

(reset)

; (step)
(run)
\end{clcode}
\end{listing}
