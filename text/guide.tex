%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Uživatelská příručka}
\subsubsection{Základní pojmy}
\begin{framed}
  \begin{itemize}
    \item TODO: v teoretické části uvést pojmy znovu s citacemi
    \item TODO: production memory v exilu splývá s pravidly znalostní báze - na
      příhodném místě uvést, že v teorii a některých systémech se rozlišuje
  \end{itemize}
\end{framed}

Nyní stručně zadefinuji základní pojmy, nutné pro pochopení fungování knihovny
ExiL a práci s ní. Význam pojmů bude jasnější, jakmile si je ukážeme na
příkladech. K těmto pojmům se posléze vrátím i~v~teoretické části textu
a~jejich popis rozšířím o další souvislosti.

První dva pojmy staví na pojmu znalost, který chápeme intuitivně a nebudu se jej
ani snažit definovat, nikoli na následujícím pojmu znalosti, jak ji chápeme
v~ExiLu (v takovém případě by byla definice cyklická).

Pojem expertního systému zatím chápejme tak, jak jsem jej představil v úvodu
práce. V praktické části rozeberu pojem v potřebné šíři.
\begin{description}[leftmargin=6cm,style=sameline,align=right,labelsep=0.5cm]
  % \item[problémová doména] množina pojmů relevantních pro řešení určité skupiny
  %   problémů
  \item[fakt] elementární statická znalost - tvrzení
  \item[(odvozovací) pravidlo] elementární odvozovací znalost - pokud víme, že
    (ne)platí nějaká tvrzení, můžeme odvodit, že platí i~nějaká další
  \item[znalost (v ExiLu)] množina faktů a pravidel
  \item[znalostní báze] výchozí znalost expertního systému
  \item[pracovní paměť] aktuální množina faktů
  % \item[production memory] aktuální množina pravidel
  \item[inference] odvozování - postupná aplikace odvozovacích pravidel
\end{description}
Pojem \emph{pracovní paměť} není příliš intuitivní. Jde o doslovný překlad
v~literatuře užívaného pojmu \emph{working memory}, kterým je označována množina
faktů (tvrzení), které expertní systém v danou chvíli považuje za platné. Nejde
tedy ve skutečnosti o paměť, nýbrž o obsah pomyslné paměti. Pojem pracovní
množina faktů by byl jistě výstižnější, bohužel ale také značně těžkopádný.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{guide-1-structure}
\input{guide-2-knowledge-base}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Modifikace pracovní paměti}
\label{modifikace}
\begin{framed}
  \begin{itemize}
    \item inicializace ze znalostní báze
    \item ruční modifikace - assert, retract, modify
    \item queries - facts
  \end{itemize}
\end{framed}

Pracovní paměť může být dále v průběhu inference modifikována třemi makry:
\begin{itemize}
  \item \verb|assert| přidává fakt(a) do pracovní paměti,
  \item \verb|retract| fakt(a) z pracovní paměti odebírá a
  \item \verb|modify| přímo modifikuje existující fakty.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Inference}
\label{inference}
\begin{framed}
  \begin{itemize}
    \item fáze podrobně
    \begin{itemize}
      \item vyhodnocení podmínek - statické testy, vazby proměnných (speciální -
        singleton, navázání faktu), konzistence
      \item výběr pravidla - strategie
      \item aktivace - vyhodnocení důsledků (typicky modifikace pracovní paměti)
        navázání proměnných, eval
    \end{itemize}
    \item spuštění inference, krokování (může se prolínat s ručnímodifikací w.m.)
    \item queries - agenda, strategies
  \end{itemize}
\end{framed}

Podmínky jsou spojeny logickou konjunkcí, pravidlo je tedy možné aktivovat,
jsou-li splněny všechny jeho podmínky. Kromě toho mohou být některé podmínky
negovány. Taková opdmínka je splněna tehdy, neexistuje-li v pracovní paměti
žádný fakt, který by jí odpovídal.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Reset prostředí}
\begin{framed}
  \begin{itemize}
    \item durable/volatile slots
    \item clean, reset, complete reset (neměl by se jmenovat complete clean?)
  \end{itemize}
\end{framed}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Sledování průběhu inference}
\label{inference tracing}
\begin{framed}
  \begin{itemize}
    \item watchery
  \end{itemize}
\end{framed}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Undo/redo}
\begin{framed}
  \begin{itemize}
    \item lze použít na všechny funkce/makra s vedlejším efektem
    \item pokud funkce nemá vedlejší efekt (fakt neexistuje, apod.), nezapíše se
      undo step
    \item queries - undo-stack, redo-stack
  \end{itemize}
\end{framed}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Zpětné řetězení}
\begin{framed}
  \begin{itemize}
    \item cíle jako patterny
    \item základní inference - nejdřív fakty, pak pravidla, v jakém pořadí
      vybírá
    \item alternativní odpovědi - backtracking
  \end{itemize}
\end{framed}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Práce s více prostředími}
\label{multiple environments}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Grafické uživatelské rozhraní}
